<!DOCTYPE html>
<html lang="en">

<!-- สวัสดี วัยสะรุ้น Hello, World! ครับ/ค่ะ -->

<head>

  <title>สุ่มเลือกสี | asia-lb</title>
  <meta http-equiv="content-type" content="text/html; charset=utf-8" />
  <meta name="description" content="สุ่มเลือกสี" />
  <meta name="keywords" content="HTML,CSS,XML,JavaScript" />
  <meta name="author" content="Centered101" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">

  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website" />
  <meta property="og:url" content="#" />
  <meta property="og:url" content="#" />
  <meta property="og:title" content="Centered101" />
  <meta property="og:description" content="สุ่มเลือกสี" />
  <meta property="og:image" content="/logo3.webp" />

  <!-- Twitter -->
  <meta property="twitter:card" content="summary_large_image" />
  <meta property="twitter:url" content="#" />
  <meta property="twitter:url" content="#" />
  <meta property="twitter:title" content="Centered101" />
  <meta property="twitter:description" content="สุ่มเลือกสี" />
  <meta property="twitter:image" content="/logo3.webp" />

  <!-- รูปโปรไฟร์หัวข้อหน้าเว็บ รูปแแบบ external -->
  <link id="favicon" rel="icon" type="image/png" href="/logo3.ico">

  <link rel="stylesheet" href="style.css">

  <style>
    body {
      /* font-family: Arial, sans-serif; */
      text-align: center;
      user-select: none;
      transition: background-color 1s;
      background-color: #84D4FA;
      font-family: 'Bai Jamjuree', sans-serif;
    }

    img {
      margin-top: 20px;
    }

    h1 {
      margin: 20px;
    }

    .color-box {
      width: 200px;
      height: 200px;
      display: inline-block;
      margin: 5px;
      transition: opacity 0.5s ease;
      border-radius: 5px;
      box-shadow: 0 4px 6px #0000001a;
    }

    #red {
      background-color: red;
    }

    #blue {
      background-color: blue;
    }

    .selected {
      border: 1px solid yellow;
      opacity: 1;
    }

    .unselected {
      opacity: .3;
    }

    .container_box {
      border: solid #000 1px;
      border-radius: 7px;
      background-color: #fafafab3;
      height: 300px;
      max-width: 410px;
      margin: 5px auto;
      box-shadow: 0 4px 6px #0000001a;
    }

    .btn {
      --primary: 255, 90, 120;
      --secondary: 150, 50, 60;
      margin-top: 50px;
      width: 60px;
      height: 50px;
      border: none;
      outline: none;
      cursor: pointer;
      user-select: none;
      touch-action: manipulation;
      outline: 10px solid rgb(var(--primary), .5);
      border-radius: 100%;
      position: relative;
      transition: .3s;
    }

    .btn .back {
      background: rgb(var(--secondary));
      border-radius: 100%;
      position: absolute;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
    }

    .btn .front {
      background: linear-gradient(0deg, rgba(var(--primary), .6) 20%, rgba(var(--primary)) 50%);
      box-shadow: 0 .5em 1em -0.2em rgba(var(--secondary), .5);
      border-radius: 100%;
      position: absolute;
      border: 1px solid rgb(var(--secondary));
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 1.2rem;
      font-weight: bold;
      font-family: inherit;
      transform: translateY(-15%);
      transition: .15s;
      color: rgb(var(--secondary));
    }

    .btn:active .front {
      transform: translateY(0%);
      box-shadow: 0 0;
    }

    .result-box {
      border-radius: 7px;
      margin-top: 20px;
    }

    #result,
    #stats {
      margin-top: 20px;
    }

    .hidden {
      display: none;
    }

    .show {
      display: block;
    }
  </style>
</head>

<body>
  <img
    src="https://static.wixstatic.com/media/7b638e_881f1037cbb64f07b0700aa12fc41a17~mv2.png/v1/fill/w_84,h_84,al_c,q_85,usm_0.66_1.00_0.01,enc_auto/logo3.png"
    alt="logo3.png" style="width: 90px; height: 90px; object-fit: contain; object-position: center center;" width="90"
    height="90"
    srcset="https://static.wixstatic.com/media/7b638e_881f1037cbb64f07b0700aa12fc41a17~mv2.png/v1/fill/w_84,h_84,al_c,q_85,usm_0.66_1.00_0.01,enc_auto/logo3.png"
    fetchpriority="high">
  <h1 id="resultHeading">สุ่มสีของคุณ</h1>
  <div id="container_color">
    <div id="blue" class="color-box"></div>
    <div id="red" class="color-box"></div>
  </div>
  <div class="container_box">
    <button class="btn" id="randomButton" onclick="randomizeColor()">
      <span class="back"></span>
      <span class="front">สุ่ม</span>
    </button>
    <button class="btn hidden" id="confirmButton" onclick="location.href='/about.html'">
      <span class="back"></span>
      <span class="front">ตกลง</span>
    </button>
    <p id="result"></p>
    <p id="stats"></p>
  </div>

  <script>
    // ประกาศตัวแปรที่จำเป็น
    let isRandomized = false; // ใช้ตรวจสอบว่าการสุ่มสีได้ดำเนินการไปแล้วหรือไม่
    let redCount = 0; // จำนวนผู้ที่เลือกสีแดง
    let blueCount = 0; // จำนวนผู้ที่เลือกสีน้ำเงิน
    const totalPeople = 200; // จำนวนทั้งหมดของผู้เข้าร่วม

    // ฟังก์ชันสุ่มสี
    function randomizeColor() {
      if (isRandomized) {
        alert("คุณได้สุ่มสีไปแล้ว!");
        return;
      }

      // ซ่อนหัวเรื่อง
      const h1 = document.querySelector('h1');
      const randomButton = document.getElementById('randomButton');
      const confirmButton = document.getElementById('confirmButton');
      const resultHeading = document.getElementById('resultHeading');
      randomButton.style.display = 'none'; // ซ่อนปุ่มสุ่ม

      const colorBox = document.getElementById('container_color');
      const result = document.getElementById('result');
      const stats = document.getElementById('stats');
      let counter = 0;

      // สร้างอินเทอร์วาลเพื่อเปลี่ยนสี
      const interval = setInterval(() => {
        if (counter < 10) {
          colorBox.innerHTML = Math.random() < 0.5 ?
            '<div id="blue" class="color-box selected"></div><div id="red" class="color-box unselected"></div>' :
            '<div id="blue" class="color-box unselected"></div><div id="red" class="color-box selected"></div>';
          counter++;
        } else {
          clearInterval(interval); // หยุดอินเทอร์วาลเมื่อครบจำนวนรอบ
          const selectedColor = Math.random() < 0.5 ? 'แดง' : 'น้ำเงิน';
          result.textContent = `คุณสุ่มได้: สี${selectedColor}`;
          resultHeading.textContent = `คุณสุ่มได้: สี${selectedColor}`;

          // อัปเดตจำนวนผู้เลือกสี
          if (selectedColor === 'แดง') {
            redCount++;
          } else {
            blueCount++;
          }

          // แสดงเฉพาะสีที่เลือก
          document.getElementById('red').classList.remove('unselected');
          document.getElementById('blue').classList.remove('unselected');

          if (selectedColor === 'แดง') {
            document.getElementById('red').classList.add('selected');
            document.getElementById('blue').classList.add('hidden');
          } else {
            document.getElementById('blue').classList.add('selected');
            document.getElementById('red').classList.add('hidden');
          }

          // แสดงสถิติ
          stats.textContent = `สถิติ: สีแดง ${redCount}, สีน้ำเงิน ${blueCount} จาก ${totalPeople} คน`;
          confirmButton.classList.remove('hidden'); // แสดงปุ่มตกลง
          // เปลี่ยนสีพื้นหลังของ body
          document.body.style.backgroundColor = selectedColor === 'แดง' ? '#FE4040' : '#409EFE';

          // ตั้งค่าว่ามีการสุ่มสีแล้ว
          isRandomized = true;
        }
      }, 1000);
    }
  </script>
</body>

</html>